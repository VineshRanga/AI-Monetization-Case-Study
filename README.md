# When AI Monetization Disappoints: A Scenario Stress Test Using Market-Implied Risk Proxies

## White paper (recommended first read)

[PASTE LINK HERE]

The white paper PDF is attached to the repo release or available locally if kept in the repo. For full methodology, chart interpretations, and scenario analysis, read the white paper first.

## Abstract

I built a quantitative stress testing framework for 15 tech and data center issuers (2020-2025) using SEC EDGAR fundamentals, equity prices, and optional FRED macro data. The model predicts weekly changes in a credit risk proxy using regime-gated XGBoost, then applies scenario shocks to simulate AI monetization disappointments and funding freezes. This is exploratory research focused on learning how market-implied signals can complement traditional credit analysis.

## What this repo is / is not

**This repo is:**
- A case study using publicly available data (EDGAR, equity prices, optional FRED)
- An exploration of regime-gated modeling for credit risk proxies
- A scenario engine for stress testing hypothetical shocks
- A fragility scoring system based on five pillars

**This repo is not:**
- A production risk management system
- A source of actual credit spreads or CDS data (I do not use credit spreads or CDS)
- A replacement for traditional credit analysis
- A financial advisory tool

## Pipeline overview

The pipeline ingests SEC EDGAR fundamentals and equity prices, builds a weekly feature store, computes a credit proxy (ΔPD Proxy) from simplified structural mapping, labels regimes (Risk-On/Risk-Off) using equity-based fallback when macro is missing, trains regime-gated models, and runs two scenarios: AI Monetization Shock and AI Shock plus Funding Freeze. Fragility scores use five pillars: refinancing, cash generation, leverage, cyclicality, and structure.

## Key figures

The following figures are generated by the pipeline. For interpretation and analysis, see the white paper.

- `macro_events_overlay_2025.png` - Time series of credit proxy with annotated macro events
- `shap_summary_bar.png` - Feature importance rankings from the regime-gated models
- `issuer_risk_heatmap_2025.png` - Heatmap of predicted risk across issuers and weeks
- `scenario_bucket_impact.png` - Average uplift by issuer bucket under scenario shocks
- `fragility_pillars_heatmap.png` - Five-pillar fragility breakdown per issuer
- `fragility_rank_bar.png` - Ranked fragility scores across all issuers

All figures are saved to `reports/figures/` after running the pipeline.

## Legend and visual conventions

- **ΔPD Proxy**: A unitless, probability-like signal expressed as weekly change. This is not credit spreads or OAS. It approximates changes in distance-to-default using equity and fundamentals.
- **Red shaded zones**: In any regime chart, red shading represents Risk-Off periods. These are identified using equity-only fallback (QQQ/SMH) when macro data is unavailable.
- **Grey cells**: In heatmaps, grey cells indicate insufficient data for that issuer-week combination.
- **Macro event annotations**: Event markers and labels on time series charts provide context only. They do not imply causality.

## Quick start

```bash
# Create venv and install
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt

# Setup database
psql -U postgres
CREATE DATABASE ai_credit_crisis;
\q

# Copy env template and fill in values
cp .env.example .env
# Edit .env: set SEC_USER_AGENT (required), POSTGRES_* (if needed), FRED_API_KEY (optional)

# Initialize schema
python3 scripts/init_db.py

# Run pipeline stages
python3 scripts/pipeline_edgar_stage1_ingest.py
python3 scripts/pipeline_edgar_stage2_features_targets.py
python3 scripts/pipeline_edgar_stage3_model_train.py

# Generate fragility scores and scenarios
python3 scripts/run_fragility.py
python3 scripts/run_scenarios.py

# Generate all figures
python3 -m scripts.generate_report_figures
```

## Data sources

- **SEC EDGAR**: Free public fundamentals (requires User-Agent header)
- **Stooq**: Free historical equity prices
- **FRED API**: Optional macro series (VIX, rates, OAS)

See `NOTICES.md` for third-party data terms and required disclaimers.

## Limitations

- Credit proxy is not actual spreads (Merton-style distance-to-default approximation)
- Macro series (FRED) optional; regime uses equity-only fallback if missing
- Exploratory research project, not production risk system

## License

MIT
